{"version":3,"sources":["webpack:///static/js/app.e55e5c07dbf3aa5a7f5d.js","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///RulesTest.vue","webpack:///./src/App.vue?e139","webpack:///./src/router/index.js","webpack:///./src/components/RulesTest.vue?ee26","webpack:///./src/components/RulesTest.vue?16de"],"names":["webpackJsonp","9M+g","module","exports","Jmt5","M93x","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_189d6973_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","Component","MQ71","NHnr","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2__router__","__WEBPACK_IMPORTED_MODULE_3_bootstrap_dist_css_bootstrap_css__","__WEBPACK_IMPORTED_MODULE_4_bootstrap_vue_dist_bootstrap_vue_css__","n","config","productionTip","el","router","template","components","App","NTRc","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default","formDefaultValues","start_week","end_week","undefined","type","day","time","duration","status_id","location_id","highlighted","data","total_weeks","types","id","statuses","name","locations","rules","autoincrementIndex","form","error","loading","showPreliminary","notes","computed","rulesByType","_this","this","forEach","rule","hasOwnProperty","note","find","status","location","push","rows","_this2","out","methods","getNextIndex","reduce","max","Math","getRuleStyle","left","floor","width","valuesEqual","rule1","rule2","submit","startWeek","endWeek","isNaN","Error","console","log","t","e","message","newRule","processNewRule","reset","_this3","delay","a","resolve","reject","setTimeout","then","cnt","i","length","r","splice","clonedRule1","result","index","findIndex","sort","r1","r2","filter","_i","prev","curr","YK0F","render","_vm","_h","$createElement","_self","_c","staticRenderFns","esExports","YaEn","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_RulesTest__","use","mode","routes","path","component","pW4T","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_RulesTest_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_71818264_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_RulesTest_vue__","__vue_styles__","xxNb","staticClass","_v","_l","_s","attrs","key","class","-highlighted","style","_e","on","$event","preventDefault","for","directives","rawName","expression","min","readonly","domProps","input","target","composing","change","$$selectedVal","Array","prototype","call","options","o","selected","map","_value","multiple","disabled","click","tag"],"mappings":"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","file":"static/js/app.e55e5c07dbf3aa5a7f5d.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"9M+g\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"Jmt5\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_189d6973_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"YK0F\");\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\nvar __vue_script__ = null\n/* template */\n\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __WEBPACK_IMPORTED_MODULE_0__node_modules_vue_loader_lib_template_compiler_index_id_data_v_189d6973_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"MQ71\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(\"YaEn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_bootstrap_dist_css_bootstrap_css__ = __webpack_require__(\"Jmt5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_bootstrap_dist_css_bootstrap_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_bootstrap_dist_css_bootstrap_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_bootstrap_vue_dist_bootstrap_vue_css__ = __webpack_require__(\"9M+g\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_bootstrap_vue_dist_bootstrap_vue_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_bootstrap_vue_dist_bootstrap_vue_css__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"NTRc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(\"//Fk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__);\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import moment from 'moment'\n\nvar formDefaultValues = {\n  start_week: 0,\n  end_week: undefined,\n  type: undefined,\n  value: {\n    day: undefined,\n    time: undefined,\n    duration: undefined,\n    status_id: undefined,\n    location_id: undefined\n  },\n  highlighted: false\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data: function data() {\n    return {\n      total_weeks: 50,\n      types: [{ id: 'day_of_week' }, { id: 'time_of_day' }, { id: 'status' }, { id: 'location' }],\n      statuses: [{ id: 1, name: 'Active' }, { id: 2, name: 'Passive' }, { id: 3, name: 'One More' }],\n      locations: [{ id: 1, name: 'Room 1' }, { id: 2, name: 'Room 2' }, { id: 3, name: 'Room 3' }],\n      rules: [{ id: 1, type: 'day_of_week', start_week: 20, end_week: 39, value: { day: 'FRI' }, highlighted: false }, { id: 2, type: 'day_of_week', start_week: 40, value: { day: 'WED' }, highlighted: false }, { id: 3, type: 'time_of_day', start_week: 10, value: { time: '10:00', duration: 60 }, highlighted: false }, { id: 4, type: 'status', start_week: 10, value: { status_id: 1 }, highlighted: false }, { id: 5, type: 'location', start_week: 10, value: { location_id: 1 }, highlighted: false }],\n      autoincrementIndex: 0,\n      form: __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, formDefaultValues),\n      error: undefined,\n      loading: false,\n      showPreliminary: true,\n      notes: []\n    };\n  },\n\n  computed: {\n    rulesByType: function rulesByType() {\n      var _this = this;\n\n      var rulesByType = {};\n      this.rules.forEach(function (rule) {\n        rule = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, rule);\n        if (!rulesByType.hasOwnProperty(rule.type)) {\n          rulesByType[rule.type] = [];\n        }\n        if (rule.type === 'day_of_week') {\n          rule.note = rule.value.day;\n        } else if (rule.type === 'time_of_day') {\n          rule.note = rule.value.time + ' ' + rule.value.duration + 'min';\n        } else if (rule.type === 'status') {\n          rule.note = (_this.statuses.find(function (status) {\n            return status.id === rule.value.status_id;\n          }) || {}).name;\n        } else if (rule.type === 'location') {\n          rule.note = (_this.locations.find(function (location) {\n            return location.id === rule.value.location_id;\n          }) || {}).name;\n        } else {\n          rule.note = '';\n        }\n        rulesByType[rule.type].push(rule);\n      });\n      return rulesByType;\n    },\n    rows: function rows() {\n      var _this2 = this;\n\n      var out = [];\n      this.types.forEach(function (type) {\n        out.push(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, type, { rules: _this2.rulesByType[type.id] }));\n      });\n      return out;\n    }\n  },\n  methods: {\n    getNextIndex: function getNextIndex() {\n      if (this.autoincrementIndex === 0) {\n        this.autoincrementIndex = this.rules.reduce(function (max, rule) {\n          return Math.max(max, rule.id);\n        }, 0);\n      }\n      return ++this.autoincrementIndex;\n    },\n    getRuleStyle: function getRuleStyle(rule) {\n      return {\n        left: Math.floor(rule.start_week / this.total_weeks * 100) + '%',\n        width: Math.floor(((rule.end_week === undefined ? this.total_weeks - 1 : rule.end_week) - rule.start_week + 1) / this.total_weeks * 100) + '%'\n      };\n    },\n    valuesEqual: function valuesEqual(rule1, rule2) {\n      if (rule1.type !== rule2.type) return false;\n      // Dirty\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(rule1.value) === __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(rule2.value);\n    },\n    submit: function submit() {\n      // Validate\n      this.error = undefined;\n      var startWeek = void 0,\n          endWeek = void 0,\n          type = void 0;\n      try {\n        startWeek = Math.floor(this.form.start_week);\n        if (isNaN(startWeek) || startWeek < 0 || startWeek > this.total_weeks) throw new Error('Start week field is incorrect');\n        if (this.form.end_week !== '' && this.form.end_week !== undefined) {\n          endWeek = Math.floor(this.form.end_week);\n          console.log(this.form.end_week);\n          if (isNaN(endWeek) || endWeek < 0 || endWeek > this.total_weeks) throw new Error('End week field is incorrect');\n        }\n        if (startWeek !== undefined && endWeek !== undefined && endWeek < startWeek) throw new Error('End week must be greater than the start week');\n        type = this.form.type;\n        if (!this.types.find(function (t) {\n          return t.id === type;\n        })) throw new Error('Rule type is not supported');\n      } catch (e) {\n        this.error = e.message;\n        return;\n      }\n      var value = {};\n      if (type === 'day_of_week') {\n        value.day = this.form.value.day;\n      } else if (type === 'time_of_day') {\n        value.time = this.form.value.time;\n        value.duration = this.form.value.duration;\n      } else if (type === 'status') {\n        value.status_id = this.form.value.status_id;\n      } else if (type === 'location') {\n        value.location_id = this.form.value.location_id;\n      }\n      var newRule = {\n        type: type,\n        start_week: startWeek,\n        end_week: endWeek,\n        value: value\n      };\n      this.processNewRule(newRule);\n    },\n    reset: function reset() {\n      this.form = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, formDefaultValues);\n      this.error = undefined;\n    },\n    processNewRule: function processNewRule(rule) {\n      var _this3 = this;\n\n      var rule1 = void 0,\n          rule2 = void 0;\n      var delay = function delay(n) {\n        return function () {\n          return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n            return setTimeout(resolve, n || 1000);\n          });\n        };\n      };\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.resolve().then(function () {\n        _this3.loading = true;\n        _this3.notes = [];\n      }).then(delay()).then(function () {\n        var cnt = 0;\n        for (var i = 0; i < _this3.rules.length; i++) {\n          var r = _this3.rules[i];\n          if (r.type === rule.type && r.start_week >= rule.start_week && (rule.end_week === undefined || rule.end_week !== undefined && r.end_week !== undefined && r.end_week <= rule.end_week)) {\n            r.highlighted = true;\n            cnt++;\n          }\n        }\n        _this3.notes.push('1. Select all rules that are covered by the new rule - ' + cnt + ' rules selected');\n      }).then(delay()).then(function () {\n        var cnt = 0;\n        for (var i = _this3.rules.length - 1; i >= 0; i--) {\n          var r = _this3.rules[i];\n          if (r.highlighted) {\n            _this3.rules.splice(i, 1);\n            cnt++;\n          }\n        }\n        _this3.notes.push('2. Delete covered rules - ' + cnt + ' rules deleted');\n      }).then(delay()).then(function () {\n        rule1 = _this3.rules.find(function (r) {\n          return r.type === rule.type && r.start_week <= rule.start_week && (r.end_week === undefined || r.end_week >= rule.start_week);\n        });\n        if (rule1) {\n          rule1.highlighted = true;\n        }\n        _this3.notes.push('3. Select the rule1 that covers new rule start_week - ' + (rule1 ? 'found #' + rule1.id + ' [' + rule1.start_week + ',' + rule1.end_week + ']' : 'not found'));\n      }).then(delay()).then(function () {\n        if (rule.end_week === undefined) {\n          rule2 = _this3.rules.find(function (r) {\n            return r.type === rule.type && r.end_week === undefined;\n          });\n        } else {\n          rule2 = _this3.rules.find(function (r) {\n            return r.type === rule.type && r.start_week <= rule.end_week && (r.end_week === undefined || r.end_week >= rule.end_week);\n          });\n        }\n        if (rule2) {\n          rule2.highlighted = true;\n        }\n        _this3.notes.push('4. Select the rule2 that covers new rule end_week - ' + (rule2 ? 'found #' + rule2.id + ' [' + rule2.start_week + ',' + rule2.end_week + ']' : 'not found'));\n      }).then(delay()).then(function () {\n        var clonedRule1 = void 0;\n        if (rule1 && rule.end_week !== undefined) {\n          if (rule1.end_week === undefined || rule1.end_week > rule.end_week) {\n            clonedRule1 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, rule1);\n            clonedRule1.id = _this3.getNextIndex();\n            clonedRule1.start_week = rule.end_week + 1;\n            _this3.rules.push(clonedRule1);\n          }\n        }\n        _this3.notes.push('5. Check if rule1.end_week is after the rule.end_week and clone it after rule.end_week - ' + (clonedRule1 ? 'cloned #' + clonedRule1.id + ' [' + clonedRule1.start_week + ',' + clonedRule1.end_week + ']' : 'no cloned rule'));\n      }).then(delay()).then(function () {\n        var result = 'rule1 does not exist';\n        if (rule1) {\n          if (rule1.start_week < rule.start_week) {\n            rule1.end_week = rule.start_week - 1;\n            result = ' end_week set to ' + rule1.end_week;\n          } else if (rule1.start_week === rule.start_week) {\n            var index = _this3.rules.findIndex(function (rule) {\n              return rule.id === rule1.id;\n            });\n            if (index === 0 || index > 0) {\n              _this3.rules.splice(index, 1);\n              result = 'rule1 deleted';\n            }\n          }\n        }\n        _this3.notes.push('6. Move the end of the rule1 to be before the rule.start_week - ' + result);\n      }).then(delay()).then(function () {\n        var result = 'rule2 does not exist';\n        if (rule2) {\n          result = 'rule2 is equal to rule1, no change';\n          if (!rule1 || rule2 !== rule1) {\n            result = 'no change in rule2';\n            if (rule.end_week !== undefined && rule2.start_week <= rule.end_week) {\n              rule2.start_week = rule.end_week + 1;\n              result = 'start_week set to ' + rule2.start_week;\n              if (rule2.start_week > rule2.end_week) {\n                var index = _this3.rules.findIndex(function (rule) {\n                  return rule.id === rule2.id;\n                });\n                if (index === 0 || index > 0) {\n                  _this3.rules.splice(index, 1);\n                  result = 'rule2 deleted';\n                }\n              }\n            }\n          }\n        }\n        _this3.notes.push('7. Move the begining of rule2 to be after rule.end_week - ' + result);\n      }).then(delay()).then(function () {\n        rule.id = _this3.getNextIndex();\n        _this3.rules.push(rule);\n        _this3.notes.push('8. Create new rule - #' + rule.id + ' [' + rule.start_week + ',' + rule.end_week + ']');\n      }).then(delay()).then(function () {\n        _this3.notes.push('9. Merge consistent rules');\n        _this3.rules.sort(function (r1, r2) {\n          return r1.start_week - r2.start_week;\n        });\n        _this3.types.forEach(function (type) {\n          var rules = _this3.rules.filter(function (rule) {\n            return rule.type === type.id;\n          });\n\n          var _loop = function _loop(_i) {\n            var prev = rules[_i - 1];\n            var curr = rules[_i];\n            if (prev.end_week === curr.start_week - 1 && _this3.valuesEqual(prev, curr)) {\n              prev.end_week = curr.end_week;\n              var index = _this3.rules.findIndex(function (rule) {\n                return rule.id === curr.id;\n              });\n              if (index === 0 || index > 0) {\n                _this3.rules.splice(index, 1);\n                rules.splice(_i, 1);\n                _i--;\n              }\n            }\n            i = _i;\n          };\n\n          for (var i = 1; i < rules.length; i++) {\n            _loop(i);\n          }\n        });\n      }).then(delay()).then(function () {\n        _this3.notes.push('10. Complete');\n      }).then(delay()).then(function () {\n        _this3.rules.forEach(function (rule) {\n          rule.highlighted = false;\n        });\n        _this3.loading = false;\n      });\n\n      /*\n      console.log('Adding rule', Object.assign({}, rule))\n      // 1. Select all weeks that are covered by the rule and destroy them\n      for (let i = this.rules.length - 1; i >= 0; i--) {\n        const r = this.rules[i]\n        if (r.type === rule.type && r.start_week >= rule.start_week && (rule.end_week === undefined || (rule.end_week !== undefined && r.end_week !== undefined && r.end_week <= rule.end_week))) {\n          console.log('Delete rule = ', Object.assign({}, r))\n          this.rules.splice(i, 1)\n        }\n      }\n      // 2. Select the week that covers rule.start_week\n      let rule1 = this.rules.find(r => r.type === rule.type && r.start_week <= rule.start_week && (r.end_week === undefined || r.end_week >= rule.start_week))\n      // 3. Select the week that covers rule.end_week\n      let rule2\n      if (rule.end_week === undefined) {\n        rule2 = this.rules.find(r => r.type === rule.type && r.end_week === undefined)\n      } else {\n        rule2 = this.rules.find(r => r.type === rule.type && r.start_week <= rule.end_week && (r.end_week === undefined || r.end_week >= rule.end_week))\n      }\n      console.log('found rule1 = ', Object.assign({}, rule1), 'found rule2 = ', Object.assign({}, rule2))\n      // 4. Continue rule1 after the rule\n      if (rule1 && rule.end_week !== undefined) {\n        if (rule1.end_week === undefined || rule1.end_week > rule.end_week) {\n          const clonedRule1 = Object.assign({}, rule1)\n          clonedRule1.id = this.getNextIndex()\n          clonedRule1.start_week = rule.end_week + 1\n          console.log('Clone rule1 to continue after, clonedRule1 = ', Object.assign({}, clonedRule1))\n          this.rules.push(clonedRule1)\n        }\n      }\n      // 5. restrict rule1 to finish before the rule\n      if (rule1) {\n        if (rule1.start_week < rule.start_week) {\n          rule1.end_week = rule.start_week - 1\n          console.log('Restrict rule1 to finish before, set rule1 = ', Object.assign({}, rule1))\n        }\n      }\n      // 6. restrict rule2 to start after the rule\n      if (rule2) {\n        if (!rule1 || rule2 !== rule1) {\n          if (rule.end_week !== undefined && rule2.start_week <= rule.end_week) {\n            rule2.start_week = rule.end_week + 1\n            console.log('Restrict rule2 to start after, rule2 = ', Object.assign({}, rule2))\n          }\n        }\n      }\n      // 7. Create new rule\n      rule.id = this.getNextIndex()\n      this.rules.push(rule)\n      console.log('New rule inserted = ', Object.assign({}, rule))\n      this.$nextTick(() => {\n        console.log('Result rules: ', Object.assign([], this.rules))\n      })\n      // 8. Merge consistent rules\n      this.rules.sort((r1, r2) => r1.start_week - r2.start_week)\n      this.types.forEach(type => {\n        const rules = this.rules.filter(rule => rule.type === type.id)\n        for (let i = 1; i < rules.length; i++) {\n          const prev = rules[i - 1]\n          const curr = rules[i]\n          console.log('Compare', Object.assign({}, prev), Object.assign({}, curr))\n          if (prev.end_week === curr.start_week - 1 && this.valuesEqual(prev, curr)) {\n            prev.end_week = curr.end_week\n            const index = this.rules.findIndex(rule => rule.id === curr.id)\n            if (index === 0 || index > 0) {\n              this.rules.splice(index, 1)\n              rules.splice(i, 1)\n              i--\n            }\n          }\n        }\n      })\n      */\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"YK0F\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"/ocq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_RulesTest__ = __webpack_require__(\"pW4T\");\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    name: 'RulesTest',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_RulesTest__[\"a\" /* default */]\n  }]\n}));\n\n/***/ }),\n\n/***/ \"pW4T\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_RulesTest_vue__ = __webpack_require__(\"NTRc\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_71818264_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_RulesTest_vue__ = __webpack_require__(\"xxNb\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"MQ71\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-71818264\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_RulesTest_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_71818264_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_RulesTest_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"xxNb\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h3',[_vm._v(\"Timeblock Rules Test\")]),_vm._v(\" \"),_vm._l((_vm.rows),function(type){return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(type.id))]),_vm._v(\" \"),_c('div',{staticClass:\"bar\"},[_c('div',{staticClass:\"bar-grid\"},_vm._l((_vm.total_weeks),function(i){return _c('div')})),_vm._v(\" \"),_c('transition-group',{staticClass:\"bar-content\",attrs:{\"name\":\"slide\",\"mode\":\"out-in\"}},_vm._l((type.rules),function(rule){return _c('div',{key:rule.id,staticClass:\"bar-rule\",class:{'-highlighted': rule.highlighted},style:(_vm.getRuleStyle(rule))},[_c('div',{staticClass:\"bar-rule-inner\"},[_vm._v(_vm._s(rule.note))])])})),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[(_vm.showPreliminary && _vm.form.type === type.id)?_c('div',{staticClass:\"bar-rule -preliminary\",style:(_vm.getRuleStyle(_vm.form))},[_c('div',{staticClass:\"bar-rule-inner\"})]):_vm._e()])],1)])])}),_vm._v(\" \"),_c('h3',[_vm._v(\"Add New Rule\")]),_vm._v(\" \"),(_vm.error)?_c('div',{staticClass:\"alert alert-danger mb-3\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-body\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();_vm.submit($event)}}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formStartWeek\"}},[_vm._v(\"Start Date\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.start_week),expression:\"form.start_week\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formStartWeek\",\"min\":\"0\",\"max\":_vm.total_weeks,\"readonly\":_vm.loading},domProps:{\"value\":(_vm.form.start_week)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.form.start_week=$event.target.value}}}),_vm._v(\" \"),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\"The week of the year only (0 - 50)\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formEndWeek\"}},[_vm._v(\"End Date\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.end_week),expression:\"form.end_week\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formEndWeek\",\"min\":\"0\",\"max\":_vm.total_weeks,\"readonly\":_vm.loading},domProps:{\"value\":(_vm.form.end_week)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.form.end_week=$event.target.value}}}),_vm._v(\" \"),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\"Leave zero for unlimited length, the week number (0 - 50)\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"w-100\"}),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formRuleType\"}},[_vm._v(\"Rule Type\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.type),expression:\"form.type\"}],staticClass:\"form-control\",attrs:{\"id\":\"formRuleType\",\"readonly\":_vm.loading},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.form.type=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.types),function(type){return _c('option',{domProps:{\"value\":type.id}},[_vm._v(_vm._s(type.id))])}))])]),_vm._v(\" \"),(_vm.form.type == 'day_of_week')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formDay\"}},[_vm._v(\"Day of week\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.value.day),expression:\"form.value.day\"}],staticClass:\"form-control\",attrs:{\"id\":\"formDay\",\"readonly\":_vm.loading},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.form.value.day=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"MON\"}},[_vm._v(\"MON\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"TUE\"}},[_vm._v(\"TUE\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"WED\"}},[_vm._v(\"WED\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"THU\"}},[_vm._v(\"THU\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"FRI\"}},[_vm._v(\"FRI\")])])])]):_vm._e(),_vm._v(\" \"),(_vm.form.type === 'time_of_day')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formTime\"}},[_vm._v(\"Start Time\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.value.time),expression:\"form.value.time\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"formTime\",\"readonly\":_vm.loading},domProps:{\"value\":(_vm.form.value.time)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.form.value.time=$event.target.value}}})])]):_vm._e(),_vm._v(\" \"),(_vm.form.type === 'time_of_day')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formDuration\"}},[_vm._v(\"Duration\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.value.duration),expression:\"form.value.duration\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"formDuration\",\"readonly\":_vm.loading},domProps:{\"value\":(_vm.form.value.duration)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.form.value.duration=$event.target.value}}})])]):_vm._e(),_vm._v(\" \"),(_vm.form.type === 'status')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formStatus\"}},[_vm._v(\"Status\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.value.status_id),expression:\"form.value.status_id\"}],staticClass:\"form-control\",attrs:{\"id\":\"formStatus\",\"readonly\":_vm.loading},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.form.value.status_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.statuses),function(status){return _c('option',{domProps:{\"value\":status.id}},[_vm._v(_vm._s(status.name))])}))])]):_vm._e(),_vm._v(\" \"),(_vm.form.type === 'location')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formStatus\"}},[_vm._v(\"Location\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.value.location_id),expression:\"form.value.location_id\"}],staticClass:\"form-control\",attrs:{\"id\":\"formLocation\",\"readonly\":_vm.loading},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.form.value.location_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.locations),function(location){return _c('option',{domProps:{\"value\":location.id}},[_vm._v(_vm._s(location.name))])}))])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\"Add\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"disabled\":_vm.loading},on:{\"click\":_vm.reset}},[_vm._v(\"Reset Form\")])])])])]),_vm._v(\" \"),_c('transition-group',{attrs:{\"tag\":\"div\",\"name\":\"slide-rev\"}},_vm._l((_vm.notes),function(note,index){return _c('div',{key:index,staticClass:\"alert alert-info mb-1\"},[_vm._v(_vm._s(note))])}))],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.e55e5c07dbf3aa5a7f5d.js","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-189d6973\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div class=\"container\">\n    <h3>Timeblock Rules Test</h3>\n    <div v-for=\"type in rows\" class=\"card mb-3\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">{{type.id}}</h5>\n        <div class=\"bar\">\n          <div class=\"bar-grid\">\n            <div v-for=\"i in total_weeks\"></div>\n          </div>\n          <transition-group class=\"bar-content\" name=\"slide\" mode=\"out-in\">\n            <div v-for=\"rule in type.rules\" class=\"bar-rule\" :style=\"getRuleStyle(rule)\" :key=\"rule.id\" :class=\"{'-highlighted': rule.highlighted}\">\n              <div class=\"bar-rule-inner\">{{rule.note}}</div>\n            </div>\n          </transition-group>\n          <transition name=\"slide\">\n            <div v-if=\"showPreliminary && form.type === type.id\" class=\"bar-rule -preliminary\" :style=\"getRuleStyle(form)\">\n              <div class=\"bar-rule-inner\"></div>\n            </div>\n          </transition>\n        </div>\n      </div>\n    </div>\n    <h3>Add New Rule</h3>\n    <div class=\"alert alert-danger mb-3\" v-if=\"error\">{{error}}</div>\n    <div class=\"card mb-3\">\n      <div class=\"card-body\">\n        <form @submit.prevent=\"submit\">\n          <div class=\"row\">\n            <div class=\"col\">\n              <div class=\"form-group\">\n                <label for=\"formStartWeek\">Start Date</label>\n                <input type=\"number\" class=\"form-control\" id=\"formStartWeek\" min=\"0\" :max=\"total_weeks\" v-model=\"form.start_week\" :readonly=\"loading\">\n                <small class=\"form-text text-muted\">The week of the year only (0 - 50)</small>\n              </div>\n            </div>\n            <div class=\"col\">\n              <div class=\"form-group\">\n                <label for=\"formEndWeek\">End Date</label>\n                <input type=\"number\" class=\"form-control\" id=\"formEndWeek\" min=\"0\" :max=\"total_weeks\" v-model=\"form.end_week\" :readonly=\"loading\">\n                <small class=\"form-text text-muted\">Leave zero for unlimited length, the week number (0 - 50)</small>\n              </div>\n            </div>\n            <div class=\"w-100\"></div>\n            <div class=\"col\">\n              <div class=\"form-group\">\n                <label for=\"formRuleType\">Rule Type</label>\n                <select class=\"form-control\" id=\"formRuleType\" v-model=\"form.type\" :readonly=\"loading\">\n                  <option v-for=\"type in types\" :value=\"type.id\">{{type.id}}</option>\n                </select>\n              </div>\n            </div>\n            <div class=\"col\" v-if=\"form.type == 'day_of_week'\">\n              <div class=\"form-group\">\n                <label for=\"formDay\">Day of week</label>\n                <select class=\"form-control\" id=\"formDay\" v-model=\"form.value.day\" :readonly=\"loading\">\n                  <option value=\"MON\">MON</option>\n                  <option value=\"TUE\">TUE</option>\n                  <option value=\"WED\">WED</option>\n                  <option value=\"THU\">THU</option>\n                  <option value=\"FRI\">FRI</option>\n                </select>\n              </div>\n            </div>\n            <div class=\"col\" v-if=\"form.type === 'time_of_day'\">\n              <div class=\"form-group\">\n                <label for=\"formTime\">Start Time</label>\n                <input type=\"text\" class=\"form-control\" id=\"formTime\" v-model=\"form.value.time\" :readonly=\"loading\">\n              </div>\n            </div>\n            <div class=\"col\" v-if=\"form.type === 'time_of_day'\">\n              <div class=\"form-group\">\n                <label for=\"formDuration\">Duration</label>\n                <input type=\"text\" class=\"form-control\" id=\"formDuration\" v-model=\"form.value.duration\" :readonly=\"loading\">\n              </div>\n            </div>\n            <div class=\"col\" v-if=\"form.type === 'status'\">\n              <div class=\"form-group\">\n                <label for=\"formStatus\">Status</label>\n                <select class=\"form-control\" id=\"formStatus\" v-model=\"form.value.status_id\" :readonly=\"loading\">\n                  <option v-for=\"status in statuses\" :value=\"status.id\">{{status.name}}</option>\n                </select>\n              </div>\n            </div>\n            <div class=\"col\" v-if=\"form.type === 'location'\">\n              <div class=\"form-group\">\n                <label for=\"formStatus\">Location</label>\n                <select class=\"form-control\" id=\"formLocation\" v-model=\"form.value.location_id\" :readonly=\"loading\">\n                  <option v-for=\"location in locations\" :value=\"location.id\">{{location.name}}</option>\n                </select>\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center\">\n            <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"loading\">Add</button>\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"reset\" :disabled=\"loading\">Reset Form</button>\n          </div>\n        </form>\n      </div>\n    </div>\n    <transition-group tag=\"div\" name=\"slide-rev\">\n      <div class=\"alert alert-info mb-1\" v-for=\"(note, index) in notes\" :key=\"index\">{{note}}</div>\n    </transition-group>\n  </div>\n</template>\n\n<script>\n// import moment from 'moment'\n\nconst formDefaultValues = {\n  start_week: 0,\n  end_week: undefined,\n  type: undefined,\n  value: {\n    day: undefined,\n    time: undefined,\n    duration: undefined,\n    status_id: undefined,\n    location_id: undefined\n  },\n  highlighted: false\n}\n\nexport default {\n  data () {\n    return {\n      total_weeks: 50,\n      types: [\n        { id: 'day_of_week' },\n        { id: 'time_of_day' },\n        { id: 'status' },\n        { id: 'location' }\n      ],\n      statuses: [\n        { id: 1, name: 'Active' },\n        { id: 2, name: 'Passive' },\n        { id: 3, name: 'One More' }\n      ],\n      locations: [\n        { id: 1, name: 'Room 1' },\n        { id: 2, name: 'Room 2' },\n        { id: 3, name: 'Room 3' }\n      ],\n      rules: [\n        { id: 1, type: 'day_of_week', start_week: 20, end_week: 39, value: { day: 'FRI' }, highlighted: false },\n        { id: 2, type: 'day_of_week', start_week: 40, value: { day: 'WED' }, highlighted: false },\n        { id: 3, type: 'time_of_day', start_week: 10, value: { time: '10:00', duration: 60 }, highlighted: false },\n        { id: 4, type: 'status', start_week: 10, value: { status_id: 1 }, highlighted: false },\n        { id: 5, type: 'location', start_week: 10, value: { location_id: 1 }, highlighted: false }\n      ],\n      autoincrementIndex: 0,\n      form: Object.assign({}, formDefaultValues),\n      error: undefined,\n      loading: false,\n      showPreliminary: true,\n      notes: []\n    }\n  },\n  computed: {\n    rulesByType () {\n      const rulesByType = {}\n      this.rules.forEach(rule => {\n        rule = Object.assign({}, rule)\n        if (!rulesByType.hasOwnProperty(rule.type)) {\n          rulesByType[rule.type] = []\n        }\n        if (rule.type === 'day_of_week') {\n          rule.note = rule.value.day\n        } else if (rule.type === 'time_of_day') {\n          rule.note = rule.value.time + ' ' + rule.value.duration + 'min'\n        } else if (rule.type === 'status') {\n          rule.note = (this.statuses.find(status => status.id === rule.value.status_id) || {}).name\n        } else if (rule.type === 'location') {\n          rule.note = (this.locations.find(location => location.id === rule.value.location_id) || {}).name\n        } else {\n          rule.note = ''\n        }\n        rulesByType[rule.type].push(rule)\n      })\n      return rulesByType\n    },\n    rows () {\n      const out = []\n      this.types.forEach(type => {\n        out.push(Object.assign({}, type, {rules: this.rulesByType[type.id]}))\n      })\n      return out\n    }\n  },\n  methods: {\n    getNextIndex () {\n      if (this.autoincrementIndex === 0) {\n        this.autoincrementIndex = this.rules.reduce((max, rule) => Math.max(max, rule.id), 0)\n      }\n      return ++this.autoincrementIndex\n    },\n    getRuleStyle (rule) {\n      return {\n        left: Math.floor(rule.start_week / this.total_weeks * 100) + '%',\n        width: Math.floor(((rule.end_week === undefined ? (this.total_weeks - 1) : rule.end_week) - rule.start_week + 1) / this.total_weeks * 100) + '%'\n      }\n    },\n    valuesEqual (rule1, rule2) {\n      if (rule1.type !== rule2.type) return false\n        // Dirty\n      return JSON.stringify(rule1.value) === JSON.stringify(rule2.value)\n    },\n    submit () {\n      // Validate\n      this.error = undefined\n      let startWeek, endWeek, type\n      try {\n        startWeek = Math.floor(this.form.start_week)\n        if (isNaN(startWeek) || startWeek < 0 || startWeek > this.total_weeks) throw new Error('Start week field is incorrect')\n        if (this.form.end_week !== '' && this.form.end_week !== undefined) {\n          endWeek = Math.floor(this.form.end_week)\n          console.log(this.form.end_week)\n          if (isNaN(endWeek) || endWeek < 0 || endWeek > this.total_weeks) throw new Error('End week field is incorrect')\n        }\n        if (startWeek !== undefined && endWeek !== undefined && endWeek < startWeek) throw new Error('End week must be greater than the start week')\n        type = this.form.type\n        if (!this.types.find(t => t.id === type)) throw new Error('Rule type is not supported')\n      } catch (e) {\n        this.error = e.message\n        return\n      }\n      const value = {}\n      if (type === 'day_of_week') {\n        value.day = this.form.value.day\n      } else if (type === 'time_of_day') {\n        value.time = this.form.value.time\n        value.duration = this.form.value.duration\n      } else if (type === 'status') {\n        value.status_id = this.form.value.status_id\n      } else if (type === 'location') {\n        value.location_id = this.form.value.location_id\n      }\n      const newRule = {\n        type,\n        start_week: startWeek,\n        end_week: endWeek,\n        value\n      }\n      this.processNewRule(newRule)\n    },\n    reset () {\n      this.form = Object.assign({}, formDefaultValues)\n      this.error = undefined\n    },\n    processNewRule (rule) {\n      let rule1, rule2\n      const delay = (n) => () => new Promise((resolve, reject) => setTimeout(resolve, n || 1000))\n      Promise.resolve()\n        .then(() => {\n          this.loading = true\n          this.notes = []\n        })\n        .then(delay())\n        .then(() => {\n          let cnt = 0\n          for (let i = 0; i < this.rules.length; i++) {\n            const r = this.rules[i]\n            if (r.type === rule.type && r.start_week >= rule.start_week && (rule.end_week === undefined || (rule.end_week !== undefined && r.end_week !== undefined && r.end_week <= rule.end_week))) {\n              r.highlighted = true\n              cnt++\n            }\n          }\n          this.notes.push('1. Select all rules that are covered by the new rule - ' + cnt + ' rules selected')\n        })\n        .then(delay())\n        .then(() => {\n          let cnt = 0\n          for (let i = this.rules.length - 1; i >= 0; i--) {\n            const r = this.rules[i]\n            if (r.highlighted) {\n              this.rules.splice(i, 1)\n              cnt++\n            }\n          }\n          this.notes.push('2. Delete covered rules - ' + cnt + ' rules deleted')\n        })\n        .then(delay())\n        .then(() => {\n          rule1 = this.rules.find(r => r.type === rule.type && r.start_week <= rule.start_week && (r.end_week === undefined || r.end_week >= rule.start_week))\n          if (rule1) {\n            rule1.highlighted = true\n          }\n          this.notes.push('3. Select the rule1 that covers new rule start_week - ' + (rule1 ? 'found #' + rule1.id + ' [' + rule1.start_week + ',' + rule1.end_week + ']' : 'not found'))\n        })\n        .then(delay())\n        .then(() => {\n          if (rule.end_week === undefined) {\n            rule2 = this.rules.find(r => r.type === rule.type && r.end_week === undefined)\n          } else {\n            rule2 = this.rules.find(r => r.type === rule.type && r.start_week <= rule.end_week && (r.end_week === undefined || r.end_week >= rule.end_week))\n          }\n          if (rule2) {\n            rule2.highlighted = true\n          }\n          this.notes.push('4. Select the rule2 that covers new rule end_week - ' + (rule2 ? 'found #' + rule2.id + ' [' + rule2.start_week + ',' + rule2.end_week + ']' : 'not found'))\n        })\n        .then(delay())\n        .then(() => {\n          let clonedRule1\n          if (rule1 && rule.end_week !== undefined) {\n            if (rule1.end_week === undefined || rule1.end_week > rule.end_week) {\n              clonedRule1 = Object.assign({}, rule1)\n              clonedRule1.id = this.getNextIndex()\n              clonedRule1.start_week = rule.end_week + 1\n              this.rules.push(clonedRule1)\n            }\n          }\n          this.notes.push('5. Check if rule1.end_week is after the rule.end_week and clone it after rule.end_week - ' + (clonedRule1 ? 'cloned #' + clonedRule1.id + ' [' + clonedRule1.start_week + ',' + clonedRule1.end_week + ']' : 'no cloned rule'))\n        })\n        .then(delay())\n        .then(() => {\n          let result = 'rule1 does not exist'\n          if (rule1) {\n            if (rule1.start_week < rule.start_week) {\n              rule1.end_week = rule.start_week - 1\n              result = ' end_week set to ' + rule1.end_week\n            } else if (rule1.start_week === rule.start_week) {\n              const index = this.rules.findIndex(rule => rule.id === rule1.id)\n              if (index === 0 || index > 0) {\n                this.rules.splice(index, 1)\n                result = 'rule1 deleted'\n              }\n            }\n          }\n          this.notes.push('6. Move the end of the rule1 to be before the rule.start_week - ' + result)\n        })\n        .then(delay())\n        .then(() => {\n          let result = 'rule2 does not exist'\n          if (rule2) {\n            result = 'rule2 is equal to rule1, no change'\n            if (!rule1 || rule2 !== rule1) {\n              result = 'no change in rule2'\n              if (rule.end_week !== undefined && rule2.start_week <= rule.end_week) {\n                rule2.start_week = rule.end_week + 1\n                result = 'start_week set to ' + rule2.start_week\n                if (rule2.start_week > rule2.end_week) {\n                  const index = this.rules.findIndex(rule => rule.id === rule2.id)\n                  if (index === 0 || index > 0) {\n                    this.rules.splice(index, 1)\n                    result = 'rule2 deleted'\n                  }\n                }\n              }\n            }\n          }\n          this.notes.push('7. Move the begining of rule2 to be after rule.end_week - ' + result)\n        })\n        .then(delay())\n        .then(() => {\n          rule.id = this.getNextIndex()\n          this.rules.push(rule)\n          this.notes.push('8. Create new rule - #' + rule.id + ' [' + rule.start_week + ',' + rule.end_week + ']')\n        })\n        .then(delay())\n        .then(() => {\n          this.notes.push('9. Merge consistent rules')\n          this.rules.sort((r1, r2) => r1.start_week - r2.start_week)\n          this.types.forEach(type => {\n            const rules = this.rules.filter(rule => rule.type === type.id)\n            for (let i = 1; i < rules.length; i++) {\n              const prev = rules[i - 1]\n              const curr = rules[i]\n              if (prev.end_week === curr.start_week - 1 && this.valuesEqual(prev, curr)) {\n                prev.end_week = curr.end_week\n                const index = this.rules.findIndex(rule => rule.id === curr.id)\n                if (index === 0 || index > 0) {\n                  this.rules.splice(index, 1)\n                  rules.splice(i, 1)\n                  i--\n                }\n              }\n            }\n          })\n        })\n        .then(delay())\n        .then(() => {\n          this.notes.push('10. Complete')\n        })\n        .then(delay())\n        .then(() => {\n          this.rules.forEach(rule => {\n            rule.highlighted = false\n          })\n          this.loading = false\n        })\n\n      /*\n      console.log('Adding rule', Object.assign({}, rule))\n      // 1. Select all weeks that are covered by the rule and destroy them\n      for (let i = this.rules.length - 1; i >= 0; i--) {\n        const r = this.rules[i]\n        if (r.type === rule.type && r.start_week >= rule.start_week && (rule.end_week === undefined || (rule.end_week !== undefined && r.end_week !== undefined && r.end_week <= rule.end_week))) {\n          console.log('Delete rule = ', Object.assign({}, r))\n          this.rules.splice(i, 1)\n        }\n      }\n      // 2. Select the week that covers rule.start_week\n      let rule1 = this.rules.find(r => r.type === rule.type && r.start_week <= rule.start_week && (r.end_week === undefined || r.end_week >= rule.start_week))\n      // 3. Select the week that covers rule.end_week\n      let rule2\n      if (rule.end_week === undefined) {\n        rule2 = this.rules.find(r => r.type === rule.type && r.end_week === undefined)\n      } else {\n        rule2 = this.rules.find(r => r.type === rule.type && r.start_week <= rule.end_week && (r.end_week === undefined || r.end_week >= rule.end_week))\n      }\n      console.log('found rule1 = ', Object.assign({}, rule1), 'found rule2 = ', Object.assign({}, rule2))\n      // 4. Continue rule1 after the rule\n      if (rule1 && rule.end_week !== undefined) {\n        if (rule1.end_week === undefined || rule1.end_week > rule.end_week) {\n          const clonedRule1 = Object.assign({}, rule1)\n          clonedRule1.id = this.getNextIndex()\n          clonedRule1.start_week = rule.end_week + 1\n          console.log('Clone rule1 to continue after, clonedRule1 = ', Object.assign({}, clonedRule1))\n          this.rules.push(clonedRule1)\n        }\n      }\n      // 5. restrict rule1 to finish before the rule\n      if (rule1) {\n        if (rule1.start_week < rule.start_week) {\n          rule1.end_week = rule.start_week - 1\n          console.log('Restrict rule1 to finish before, set rule1 = ', Object.assign({}, rule1))\n        }\n      }\n      // 6. restrict rule2 to start after the rule\n      if (rule2) {\n        if (!rule1 || rule2 !== rule1) {\n          if (rule.end_week !== undefined && rule2.start_week <= rule.end_week) {\n            rule2.start_week = rule.end_week + 1\n            console.log('Restrict rule2 to start after, rule2 = ', Object.assign({}, rule2))\n          }\n        }\n      }\n      // 7. Create new rule\n      rule.id = this.getNextIndex()\n      this.rules.push(rule)\n      console.log('New rule inserted = ', Object.assign({}, rule))\n      this.$nextTick(() => {\n        console.log('Result rules: ', Object.assign([], this.rules))\n      })\n      // 8. Merge consistent rules\n      this.rules.sort((r1, r2) => r1.start_week - r2.start_week)\n      this.types.forEach(type => {\n        const rules = this.rules.filter(rule => rule.type === type.id)\n        for (let i = 1; i < rules.length; i++) {\n          const prev = rules[i - 1]\n          const curr = rules[i]\n          console.log('Compare', Object.assign({}, prev), Object.assign({}, curr))\n          if (prev.end_week === curr.start_week - 1 && this.valuesEqual(prev, curr)) {\n            prev.end_week = curr.end_week\n            const index = this.rules.findIndex(rule => rule.id === curr.id)\n            if (index === 0 || index > 0) {\n              this.rules.splice(index, 1)\n              rules.splice(i, 1)\n              i--\n            }\n          }\n        }\n      })\n      */\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.card-body\n  padding 0.5rem\n.bar\n  height 30px\n  position relative\n  &-grid\n    position absolute\n    top 0\n    right 0\n    bottom 0\n    left 0\n    display flex\n    > div\n      border 1px solid #dedede\n      border-left-width 0\n      flex-grow 1\n      &:first-child\n        border-left-width 1px\n  &-content\n    position absolute\n    top 0\n    right 0\n    bottom 0\n    left 0\n    z-index 2\n  &-rule\n    position absolute\n    top 0\n    bottom 0\n    transition all 0.5s\n    &-inner\n      margin 4px\n      background-color #336699\n      height 22px\n      border-radius 5px\n      color #ffffff\n      text-align center\n      transition all 0.5s\n  &-rule.-preliminary\n    top -10px\n    bottom auto\n    .bar-rule-inner\n      height 4px\n      border-radius 2px\n      opacity 0.5\n  &-rule.-highlighted\n    .bar-rule-inner\n      background-color #33ded6\n\n.slide-enter-active, .slide-leave-active\n  transition all 0.5s\n.slide-enter, .slide-leave-to\n  opacity 0\n  transform translateY(-30px)\n\n.alert\n  transition all 0.5s\n\n.slide-rev-enter-active, .slide-rev-leave-active\n  transition all 0.5s\n.slide-rev-enter, .slide-rev-leave-to\n  opacity 0\n  transform translateY(30px)\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// RulesTest.vue?dcc6951a","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-189d6973\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = YK0F\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\nimport RulesTest from '@/components/RulesTest'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'RulesTest',\n      component: RulesTest\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71818264\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RulesTest.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RulesTest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-71818264\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RulesTest.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-71818264\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RulesTest.vue\n// module id = pW4T\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h3',[_vm._v(\"Timeblock Rules Test\")]),_vm._v(\" \"),_vm._l((_vm.rows),function(type){return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(type.id))]),_vm._v(\" \"),_c('div',{staticClass:\"bar\"},[_c('div',{staticClass:\"bar-grid\"},_vm._l((_vm.total_weeks),function(i){return _c('div')})),_vm._v(\" \"),_c('transition-group',{staticClass:\"bar-content\",attrs:{\"name\":\"slide\",\"mode\":\"out-in\"}},_vm._l((type.rules),function(rule){return _c('div',{key:rule.id,staticClass:\"bar-rule\",class:{'-highlighted': rule.highlighted},style:(_vm.getRuleStyle(rule))},[_c('div',{staticClass:\"bar-rule-inner\"},[_vm._v(_vm._s(rule.note))])])})),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide\"}},[(_vm.showPreliminary && _vm.form.type === type.id)?_c('div',{staticClass:\"bar-rule -preliminary\",style:(_vm.getRuleStyle(_vm.form))},[_c('div',{staticClass:\"bar-rule-inner\"})]):_vm._e()])],1)])])}),_vm._v(\" \"),_c('h3',[_vm._v(\"Add New Rule\")]),_vm._v(\" \"),(_vm.error)?_c('div',{staticClass:\"alert alert-danger mb-3\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-body\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();_vm.submit($event)}}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formStartWeek\"}},[_vm._v(\"Start Date\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.start_week),expression:\"form.start_week\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formStartWeek\",\"min\":\"0\",\"max\":_vm.total_weeks,\"readonly\":_vm.loading},domProps:{\"value\":(_vm.form.start_week)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.form.start_week=$event.target.value}}}),_vm._v(\" \"),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\"The week of the year only (0 - 50)\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formEndWeek\"}},[_vm._v(\"End Date\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.end_week),expression:\"form.end_week\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formEndWeek\",\"min\":\"0\",\"max\":_vm.total_weeks,\"readonly\":_vm.loading},domProps:{\"value\":(_vm.form.end_week)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.form.end_week=$event.target.value}}}),_vm._v(\" \"),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\"Leave zero for unlimited length, the week number (0 - 50)\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"w-100\"}),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formRuleType\"}},[_vm._v(\"Rule Type\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.type),expression:\"form.type\"}],staticClass:\"form-control\",attrs:{\"id\":\"formRuleType\",\"readonly\":_vm.loading},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.form.type=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.types),function(type){return _c('option',{domProps:{\"value\":type.id}},[_vm._v(_vm._s(type.id))])}))])]),_vm._v(\" \"),(_vm.form.type == 'day_of_week')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formDay\"}},[_vm._v(\"Day of week\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.value.day),expression:\"form.value.day\"}],staticClass:\"form-control\",attrs:{\"id\":\"formDay\",\"readonly\":_vm.loading},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.form.value.day=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"MON\"}},[_vm._v(\"MON\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"TUE\"}},[_vm._v(\"TUE\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"WED\"}},[_vm._v(\"WED\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"THU\"}},[_vm._v(\"THU\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"FRI\"}},[_vm._v(\"FRI\")])])])]):_vm._e(),_vm._v(\" \"),(_vm.form.type === 'time_of_day')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formTime\"}},[_vm._v(\"Start Time\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.value.time),expression:\"form.value.time\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"formTime\",\"readonly\":_vm.loading},domProps:{\"value\":(_vm.form.value.time)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.form.value.time=$event.target.value}}})])]):_vm._e(),_vm._v(\" \"),(_vm.form.type === 'time_of_day')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formDuration\"}},[_vm._v(\"Duration\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.value.duration),expression:\"form.value.duration\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"formDuration\",\"readonly\":_vm.loading},domProps:{\"value\":(_vm.form.value.duration)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.form.value.duration=$event.target.value}}})])]):_vm._e(),_vm._v(\" \"),(_vm.form.type === 'status')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formStatus\"}},[_vm._v(\"Status\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.value.status_id),expression:\"form.value.status_id\"}],staticClass:\"form-control\",attrs:{\"id\":\"formStatus\",\"readonly\":_vm.loading},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.form.value.status_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.statuses),function(status){return _c('option',{domProps:{\"value\":status.id}},[_vm._v(_vm._s(status.name))])}))])]):_vm._e(),_vm._v(\" \"),(_vm.form.type === 'location')?_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"formStatus\"}},[_vm._v(\"Location\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.value.location_id),expression:\"form.value.location_id\"}],staticClass:\"form-control\",attrs:{\"id\":\"formLocation\",\"readonly\":_vm.loading},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.form.value.location_id=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.locations),function(location){return _c('option',{domProps:{\"value\":location.id}},[_vm._v(_vm._s(location.name))])}))])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\"Add\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"disabled\":_vm.loading},on:{\"click\":_vm.reset}},[_vm._v(\"Reset Form\")])])])])]),_vm._v(\" \"),_c('transition-group',{attrs:{\"tag\":\"div\",\"name\":\"slide-rev\"}},_vm._l((_vm.notes),function(note,index){return _c('div',{key:index,staticClass:\"alert alert-info mb-1\"},[_vm._v(_vm._s(note))])}))],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-71818264\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/RulesTest.vue\n// module id = xxNb\n// module chunks = 1"],"sourceRoot":""}